{"version":3,"sources":["crud_check_list_m.coffee"],"names":[],"mappings":"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","file":"crud_check_list_m.js","sourceRoot":"/source/","sourcesContent":["$(->\n\n    selectPage = (currPage, beginIndex, endIndex, limit) ->\n        if !limit\n            limit = 10\n        if !beginIndex\n            beginIndex = 0\n\n        table_name = window.bz.getUrlParm()[2]\n\n        if v_crud_check_list\n            v_crud_check_list.table_name = table_name\n            audit_state = v_crud_check_list.audit_state\n\n        $.get('/crud_check_list_api/' + table_name + '?limit=' + limit + '&offset=' + beginIndex + '&audit_state=' + audit_state).done((data) ->\n                if data.error == \"0\"\n                    v_crud_check_list.records = data.records\n                    v_crud_check_list.pagination.resultCount = data.count\n                else\n                    window.bz.showError5(data.error)\n            )\n            \n   \n    v_crud_check_list = new Vue\n            el: '#v_crud_check_list'\n            data:\n                records: []\n                table_name: ''\n                audit_state: 'submit'\n                audit_state_text: '待确认'\n                options: [\n                    {text: '待确认', value: 'submit'},\n                    {text: '已确认', value: 'pass'}\n                ]\n                pagination:\n                    showFL: true #是否显示第一页,最后一页\n                    showFN: true #是否显示上一页,下一页\n                    resultCount: 10 #总记录数,必须\n                    pageCount: 20 #每页几行\n                    currPage: 1 #当前第几页\n                    showPageNum: 7 #显示几个页面按钮\n                    gotoPageFun: selectPage\n                    onInitedLoadCurrPageData: false\n\n            methods:\n                detail:(user_id, id) ->\n                    #window.location.href = \"/crud_check/\" + @table_name + \"#\" + record_id\n                    if @table_name == \"agency_info\"\n                        window.location.href = \"/\" + @table_name + \"#user_id=\" + user_id\n                    else\n                        #window.location.href = \"/\" + @table_name + \"_detail#id=\" + id + \"&user_id=\" + user_id\n                        window.location.href = \"/\" + @table_name + \"_detail/\" + id + \"#user_id=\" + user_id\n                        \n                checkedSelect:(e) ->\n                    @audit_state_text = option.text for option in @options when option.value == @audit_state\n                    selectPage()\n\n\n)\n"]}
{"version":3,"sources":["comment_m.coffee"],"names":[],"mappings":"AAAA;AAAA,EAAA,CAAA,CAAE,SAAA,GAAA;AACA,QAAA,SAAA;WAAA,SAAA,GAAgB,IAAA,GAAA,CACd;AAAA,MAAA,EAAA,EAAG,YAAH;AAAA,MACA,IAAA,EACE;AAAA,QAAA,UAAA,EAAW,KAAX;AAAA,QACA,WAAA,EAAa,KADb;AAAA,QAEA,OAAA,EAAQ,KAFR;AAAA,QAGA,SAAA,EAAU,CAHV;OAFF;AAAA,MAMA,OAAA,EAAQ,SAAA,GAAA;eACJ,CAAA,CAAE,mBAAF,CAAsB,CAAC,QAAvB,CAAA,EADI;MAAA,CANR;AAAA,MAQA,OAAA,EACE;AAAA,QAAA,WAAA,EAAY,SAAA,GAAA;iBACV,CAAA,CAAE,mBAAF,CAAsB,CAAC,IAAvB,CAA4B,GAA5B,CAAgC,CAAC,UAAjC,CAA4C,OAA5C,EADU;QAAA,CAAZ;AAAA,QAEA,KAAA,EAAM,SAAA,GAAA;iBACJ,IAAC,CAAA,KAAK,CAAC,UAAP,GAAkB,MADd;QAAA,CAFN;AAAA,QAIA,SAAA,EAAU,SAAC,QAAD,EAAW,GAAX,EAAgB,IAAhB,GAAA;AAKR,cAAA,OAAA;AAAA,UAAA,OAAA,GAAU,IAAC,CAAA,OAAX,CAAA;AACA,UAAA,IAAG,OAAA,KAAW,MAAX,IAAwB,OAAO,CAAC,IAAR,CAAA,CAAA,KAAkB,EAA7C;AACE,YAAA,IAAI,CAAC,UAAL,GAAkB,UAAlB,CAAA;AACA,kBAAA,CAFF;WADA;AAAA,UAIA,IAAC,CAAA,KAAK,CAAC,WAAP,GAAqB,IAJrB,CAAA;AAAA,UAKA,GAAA,CAAI,OAAJ,CALA,CAAA;AAAA,UAMA,GAAA,CAAI,IAAJ,CANA,CAAA;AAAA,UAOA,GAAA,CAAI,IAAC,CAAA,SAAL,CAPA,CAAA;iBAQA,CAAC,CAAC,IAAF,CAAO,UAAP,EACE,IAAI,CAAC,SAAL,CACE;AAAA,YAAA,QAAA,EAAS,QAAT;AAAA,YACA,GAAA,EAAI,GADJ;AAAA,YAEA,OAAA,EAAQ,OAFR;AAAA,YAGA,SAAA,EAAU,IAAC,CAAA,KAAK,CAAC,SAHjB;WADF,CADF,EAME,SAAC,MAAD,GAAA;AACA,YAAA,IAAG,MAAM,CAAC,KAAP,KAAgB,GAAnB;AACE,cAAA,OAAO,CAAC,GAAR,CAAY,MAAM,CAAC,KAAnB,CAAA,CAAA;AAAA,cACA,IAAI,CAAC,WAAL,GAAmB,KADnB,CAAA;qBAEA,KAAA,CAAM,MAAM,CAAC,KAAb,EAHF;aAAA,MAAA;qBAKE,QAAQ,CAAC,MAAT,CAAA,EALF;aADA;UAAA,CANF,EAbQ;QAAA,CAJV;AAAA,QA+BA,KAAA,EAAM,SAAC,KAAD,EAAQ,SAAR,GAAA;AACJ,cAAA,aAAA;AAAA,UAAA,aAAA,GAAgB,CAAA,CAAE,KAAK,CAAC,MAAR,CAAe,CAAC,OAAhB,CAAwB,gBAAxB,CAAhB,CAAA;AAAA,UACA,CAAA,CAAE,aAAF,CAAgB,CAAC,MAAjB,CAAwB,CAAA,CAAE,kBAAF,CAAxB,CADA,CAAA;AAAA,UAEA,IAAC,CAAA,KAAK,CAAC,SAAP,GAAmB,SAFnB,CAAA;AAAA,UAGA,CAAA,CAAE,kBAAF,CAAqB,CAAC,WAAtB,CAAkC,MAAlC,CAHA,CAAA;iBAIA,CAAA,CAAE,oCAAF,CAAuC,CAAC,KAAxC,CAAA,EALI;QAAA,CA/BN;OATF;KADc,EADhB;EAAA,CAAF,CAAA,CAAA;AAAA","file":"comment_m.js","sourceRoot":"/source/","sourcesContent":["$(->\n  v_comment = new Vue\n    el:'#v_comment'\n    data:\n      error_info:false\n      btn_loading: false\n      loading:false\n      parent_id:0\n    created:->\n        $('.comment-textarea').flexText()\n    methods:\n      commentEdit:->\n        $(\".placeholder-text\").html(\" \").removeAttr(\"class\")\n      clean:->\n        @$data.error_info=false\n      clickLink:(key_type, key, type)->\n        #if type == \"comment\"\n        #  comment = $(\"#comment_text_area .comment-editable\").html()\n        #else if type == \"reply\"\n        #  comment = $(\"#reply_text_area .comment-editable\").html()\n        comment = @comment\n        if comment == undefined or comment.trim() == ''\n          data.error_info = '好歹说点什么吧!'\n          return\n        @$data.btn_loading = true\n        log comment\n        log type\n        log @parent_id\n        $.post '/comment',\n          JSON.stringify\n            key_type:key_type\n            key:key\n            comment:comment\n            parent_id:@$data.parent_id\n        , (result) ->\n          if result.error != '0'\n            console.log result.error\n            data.btn_loading = false\n            alert result.error\n          else\n            location.reload()\n      #要回复哪条评论\n      reply:(event, parent_id)->\n        comment_reply = $(event.target).closest('.comment-reply')\n        $(comment_reply).append($('#reply_text_area'))\n        @$data.parent_id = parent_id\n        $('#reply_text_area').removeClass(\"hide\")\n        $(\"#reply_text_area .comment-editable\").focus()\n)\n"]}